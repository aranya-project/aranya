language = "C"
header = """
// clang-format off
// This header is @generated by cbindgen.

/*
 * Copyright (c) SpiderOak, Inc. All rights reserved.
 */
/**
 * @file aranya-client.h
 * @brief External header file containing C function definitions
 * for the Aranya client library.
 */
 """
trailer = ""
include_guard = "ARANYA_CLIENT_H"
pragma_once = true
autogen_warning = "/* Code generated by `capi`. DO NOT EDIT. */"
namespaces = []
using_namespaces = []
sys_includes = [
    "stdbool.h",
    "stddef.h",
    "stdint.h",
    "sys/socket.h",
]
includes = []
no_includes = true
cpp_compat = true
after_includes = """

#ifndef __has_attribute
    #define __has_attribute(x) 0
#endif /* __has_attribute */

#if !defined(ARANYA_ALIGNED)
    #if __has_attribute(aligned)
        #define ARANYA_ALIGNED(n) __attribute__((aligned(n)))
    #else
        #error "compiler must support `aligned` attribute"
    #endif
#endif /* ARANYA_ALIGNED */

#if !defined(ARANYA_DESIGNATED_INIT)
    #if __has_attribute(designated_init)
        #define ARANYA_DESIGNATED_INIT __attribute__((designated_init))
    #else
        #define ARANYA_DESIGNATED_INIT
    #endif
#endif /* ARANYA_DESIGNATED_INIT */

#if !defined(ARANYA_MUST_USE)
    #if __has_attribute(warn_unused_result)
        #define ARANYA_MUST_USE __attribute__((warn_unused_result))
    #else
        #define ARANYA_MUST_USE
    #endif
#endif /* ARANYA_MUST_USE */

#if !defined(ARANYA_NO_RETURN)
    #if __has_attribute(noreturn)
        #define ARANYA_NO_RETURN __attribute__((noreturn))
    #else
        #define ARANYA_NO_RETURN
    #endif
#endif /* ARANYA_NO_RETURN */

#if !defined(ARANYA_NON_NULL)
    #if defined(__gnu__)
        #if __has_attribute(nonnull)
            #define ARANYA_NON_NULL __attribute__((nonnull))
        #endif
    #elif defined(__clang__)
        #define ARANYA_NON_NULL _Nonnull
    #else
        #define ARANYA_NON_NULL
    #endif
#endif /* ARANYA_NON_NULL */

#if !defined(ARANYA_PACKED)
    #if __has_attribute(packed)
        #define ARANYA_PACKED __attribute__((packed))
    #else
        #define ARANYA_PACKED
    #endif
#endif /* ARANYA_PACKED */

#if !defined(ARANYA_DEPRECATED)
    #if __has_attribute(deprecated)
        #define ARANYA_DEPRECATED __attribute__((deprecated))
        #define ARANYA_DEPRECATED_MSG(msg) __attribute__((deprecated(msg)))
    #else
        #define ARANYA_DEPRECATED
        #define ARANYA_DEPRECATED_MSG(msg)
    #endif
#endif /* ARANYA_DEPRECATED */
"""
braces = "SameLine"
line_length = 80
tab_width = 4
documentation = true
documentation_style = "doxy"
documentation_length = "full"
usize_is_size_t = true
style = "both"

[defines]
"target_os = macos" = "__APPLE__"
"target_os = linux" = "__linux__"
"target_os = vxworks" = "__VXWORKS__"
"target_arch = x86_64" = "__x86_64__"
"feature = afc" = "ENABLE_ARANYA_AFC"
"feature = preview" = "ENABLE_ARANYA_PREVIEW"

[export]
renaming_overrides_prefixing = true

[export.pre_body]

[enum]
rename_variants = "ScreamingSnakeCase"
prefix_with_name = true
must_use = "ARANYA_MUST_USE"
deprecated = "ARANYA_DEPRECATED"
deprecated_with_note = "ARANYA_DEPRECATED_MSG({})"

[fn]
must_use = "ARANYA_MUST_USE"
no_return = "ARANYA_NO_RETURN"
deprecated = "ARANYA_DEPRECATED"
deprecated_with_note = "ARANYA_DEPRECATED_MSG({})"

[layout]
packed = "ARANYA_PACKED"
aligned_n = "ARANYA_ALIGNED"

[ptr]
non_null_attribute = "ARANYA_NON_NULL"

[struct]
# We hack in support for `designated_init` via `must_use`.
must_use = "ARANYA_DESIGNATED_INIT"
deprecated = "ARANYA_DEPRECATED"
deprecated_with_note = "ARANYA_DEPRECATED_MSG({})"
